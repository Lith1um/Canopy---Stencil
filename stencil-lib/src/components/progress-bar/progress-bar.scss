:host {
  @apply block;
}

.progress-bar {
  --bg-color: var(--cpy-progress-bar-bg, var(--cpy-bg-primary));
  --border-radius: var(--cpy-progress-bar-border-radius, 0.25rem);
  @apply relative h-4 w-full overflow-hidden;
  border-radius: var(--border-radius);
  background-color: var(--cpy-bg-white);
  border-color: var(--bg-color);

  &--border {
    @apply border;
  }

  &--indeterminate {
    .progress-bar__progress {
      animation: indeterminate-progress-bar 1.5s infinite;
      @apply absolute bottom-0 top-0 h-auto w-2/5 #{'!important'};
    }
  }

  &__progress {
    @apply h-full max-w-full transition-all duration-300;
    background-color: var(--bg-color);
  }

  &-size--small {
    @apply h-2;
  }

  &-size--large {
    @apply h-6;
  }
  
  &-type--primary {
    --bg-color: var(--cpy-progress-bar-bg, var(--cpy-bg-primary));
  }
  
  &-type--secondary {
    --bg-color: var(--cpy-progress-bar-bg, var(--cpy-bg-secondary));
  }

  &-type--basic {
    --bg-color: var(--cpy-progress-bar-bg, var(--cpy-bg-basic));
  }

  &-type--success {
    --bg-color: var(--cpy-progress-bar-bg, var(--cpy-bg-success));
  }

  &-type--warn {
    --bg-color: var(--cpy-progress-bar-bg, var(--cpy-bg-warn));
  }

  &-type--error {
    --bg-color: var(--cpy-progress-bar-bg, var(--cpy-bg-error));
  }
}

@keyframes indeterminate-progress-bar {
  from {
      left: -50%;
  }
  to {
      left: 100%;
  }
}
