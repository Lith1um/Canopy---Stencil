:host {
  @apply block;
}

.alert {
  --alert-bg: var(--cpy-alert-bg, transparent);
  @apply relative flex p-4 rounded-md mb-5;
  background-color: var(--alert-bg);

  &--no-container {
    @apply bg-transparent p-0 mb-2 #{'!important'};
  }

  &__close {
    @apply absolute top-0 right-0 z-10;
  }

  /* Icon */
  .alert-icon {
    &:not(:empty) {
      @apply mr-2;
    }
     
    cpy-icon {
      @apply block icon-size-6;
    }
  }

  /* Content */
  .alert-content {
    @apply flex flex-col;

    /* Title */
    .alert-title {
      @apply font-semibold;

      .alert__close + .alert-title--slot {
        @apply mr-12;
      }
    }

    /* Alert */
    .alert-message {
      color: var(--cpy-text-base);
      word-break: break-word;

      &:last-child {
        @apply mb-0;
      }
    }
  }

  &.alert-appearance-border {

    @apply relative overflow-hidden rounded-md shadow-md;
    background-color: var(--cpy-bg-white) !important;

    .alert-border {
      @apply absolute left-0 top-0 bottom-0 w-1;
      background-color: var(--alert-bg);
    }

  }

  &.alert-appearance-soft {
    .alert-icon,
    .alert-title {
      color: var(--cpy-dm-text-override);

      .alert__close--icon {
        color: var(--cpy-dm-text-override);
      }
    }
  }

  /* Primary */
  &.alert-level-primary {
    background-color: var(--cpy-bg-primary-light);
    color: var(--cpy-text-primary);

    &.alert-appearance-border {
      .alert-border {
        background-color: var(--cpy-bg-primary);
      }
    }
  }

  /* Basic */
  &.alert-level-basic {
    background-color: var(--cpy-bg-basic-light);
    color: var(--cpy-text-base);

    &.alert-appearance-border {
      .alert-border {
        background-color: var(--cpy-bg-basic);
      }
    }
  }

  /* Secondary */
  &.alert-level-secondary {
    background-color: var(--cpy-bg-secondary-light);
    color: var(--cpy-text-secondary);

    &.alert-appearance-border {
      .alert-border {
        background-color: var(--cpy-bg-secondary);
      }
    }
  }

  /* Success */
  &.alert-level-success {
    background-color: var(--cpy-bg-success-light);
    color: var(--cpy-text-success);

    &.alert-appearance-border {
      .alert-border {
        background-color: var(--cpy-bg-success);
      }
    }
  }

  /* Warn */
  &.alert-level-warn {
    background-color: var(--cpy-bg-warn-light);
    color: var(--cpy-text-warn);

    &.alert-appearance-border {
      .alert-border {
        background-color: var(--cpy-bg-warn);
      }
    }
  }

  /* Error */
  &.alert-level-error {
    background-color: var(--cpy-bg-error-light);
    color: var(--cpy-text-error);

    &.alert-appearance-border {
      .alert-border {
        background-color: var(--cpy-bg-error);
      }
    }
  }
}
